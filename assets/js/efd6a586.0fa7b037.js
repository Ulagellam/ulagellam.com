"use strict";(self.webpackChunkulagellam_docusaurus=self.webpackChunkulagellam_docusaurus||[]).push([[98],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=i,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8853:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(7462),i=(n(7294),n(3905));const r={slug:"pausing-video-specific-second-guide",title:"How to Pause a Video at a Specific Second",authors:"sivayogeith",tags:["react","video","vite"],enableComments:!0},o=void 0,l={permalink:"/blog/pausing-video-specific-second-guide",editUrl:"https://github.com/Ulagellam/ulagellam.com/tree/main/blog/2023-06-03-pausing-video-specific-second-guide.md",source:"@site/blog/2023-06-03-pausing-video-specific-second-guide.md",title:"How to Pause a Video at a Specific Second",description:"Introduction",date:"2023-06-03T00:00:00.000Z",formattedDate:"June 3, 2023",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"video",permalink:"/blog/tags/video"},{label:"vite",permalink:"/blog/tags/vite"}],readingTime:3.25,hasTruncateMarker:!1,authors:[{name:"Sivayogeith Umamaheswaran",title:"CTO, Ulagellam",url:"https://github.com/sivayogeith",imageURL:"/img/sivayogeith.jpg",key:"sivayogeith"}],frontMatter:{slug:"pausing-video-specific-second-guide",title:"How to Pause a Video at a Specific Second",authors:"sivayogeith",tags:["react","video","vite"],enableComments:!0},nextItem:{title:"How I learned MEAN in a week!",permalink:"/blog/how-i-learned-MEAN-in-a-week"}},p={authorsImageUrls:[void 0]},s=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Step 1: Add a video to <code>App.tsx</code>.",id:"step-1-add-a-video-to-apptsx",level:2},{value:"Step 2: Adding Refs",id:"step-2-adding-refs",level:2},{value:"Step 3. Adding <code>onTimeUpdate</code>",id:"step-3-adding-ontimeupdate",level:2},{value:"Extra Step (If you are using React with JS)",id:"extra-step-if-you-are-using-react-with-js",level:2}],c={toc:s};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"I recently learned React, one of the most popular JavaScript frameworks in the\nworld. I also created a gift for my sister using React. The main feature of the\npresent is a video that contains a rickroll. When the rickroll plays, it should\nenable a previously disabled button."),(0,i.kt)("h2",{id:"getting-started"},"Getting Started"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Note: This tutorial assumes you have a react-ts or react app with vite included.\nSo, if you don't have the project up and running, please visit\n",(0,i.kt)("a",{parentName:"p",href:"https://vitejs.dev/guide/#scaffolding-your-first-vite-project"},"the Vite docs"),".")),(0,i.kt)("h2",{id:"step-1-add-a-video-to-apptsx"},"Step 1: Add a video to ",(0,i.kt)("inlineCode",{parentName:"h2"},"App.tsx"),"."),(0,i.kt)("p",null,"You can include a video using the HTML ",(0,i.kt)("inlineCode",{parentName:"p"},"<video>")," tag."),(0,i.kt)("p",null,"Here's an example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import rickRoll from "./rickroll.mp4";\nimport "./App.css";\n\nfunction App() {\n    return (\n        <>\n            <div>\n                <video src={rickRoll} width="750" height="500" controls></video>\n            </div>\n        </>\n    );\n}\n\nexport default App;\n')),(0,i.kt)("p",null,"In this code, make sure to place the video file (rickroll.mp4) in the public\nfolder."),(0,i.kt)("h2",{id:"step-2-adding-refs"},"Step 2: Adding Refs"),(0,i.kt)("p",null,"If you're new to React and aren't familiar with what a ref is, think of it as a\nway to reference an element similar to ",(0,i.kt)("inlineCode",{parentName:"p"},"document.querySelector")," in vanilla\nJavaScript."),(0,i.kt)("p",null,"In React, using refs is considered a best practice instead of directly using\n",(0,i.kt)("inlineCode",{parentName:"p"},"document.")," functions."),(0,i.kt)("p",null,"Let's add refs to our video tag:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import { createRef } from "react";\nimport rickRoll from "./rickroll.mp4";\nimport "./App.css";\n\nfunction App() {\n    const videoRef = createRef<HTMLVideoElement>();\n\n    return (\n        <>\n            <div>\n                <video\n                    src={rickRoll}\n                    width="750"\n                    height="500"\n                    ref={videoRef}\n                    controls\n                ></video>\n            </div>\n        </>\n    );\n}\n\nexport default App;\n')),(0,i.kt)("p",null,"In the updated code, we import the createRef function from React. We create a\nref using ",(0,i.kt)("inlineCode",{parentName:"p"},"createRef<HTMLVideoElement>()")," and assign it to ",(0,i.kt)("inlineCode",{parentName:"p"},"videoRef"),"."),(0,i.kt)("p",null,"We then use ",(0,i.kt)("inlineCode",{parentName:"p"},"ref={videoRef}")," to attach the ref to the video element. With refs,\nyou can access the underlying DOM element using ",(0,i.kt)("inlineCode",{parentName:"p"},"videoRef.current"),"."),(0,i.kt)("p",null,"To play or pause the video, you can use the following code:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Play: ",(0,i.kt)("inlineCode",{parentName:"li"},"videoRef.current?.play()")),(0,i.kt)("li",{parentName:"ul"},"Pause: ",(0,i.kt)("inlineCode",{parentName:"li"},"videoRef.current?.pause()"))),(0,i.kt)("p",null,"The ? is used to safely access the play() and pause() methods, as the current\nmight be null initially."),(0,i.kt)("h2",{id:"step-3-adding-ontimeupdate"},"Step 3. Adding ",(0,i.kt)("inlineCode",{parentName:"h2"},"onTimeUpdate")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"<video>")," tag in HTML has an attribute called onTimeUpdate which allows us\nto set a function that will be called whenever the timestamp in the video\nchanges."),(0,i.kt)("p",null,"In this step, we will create a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"handleTimeUpdate")," to handle this\nevent and perform certain actions when the target timestamp is reached."),(0,i.kt)("p",null,"To retrieve the current timestamp, we can use the following code snippet:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const currentTime = videoRef.current?.currentTime || 0;\n")),(0,i.kt)("p",null,"Here is an example ",(0,i.kt)("inlineCode",{parentName:"p"},"handleTimeUpdate")," function that we can use:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'const handleTimeUpdate = () => {\n    const currentTime = videoRef.current?.currentTime || 0;\n    setTimestamp(currentTime);\n    if (currentTime >= targetTimestamp && !didRickRollCome) {\n        videoRef["current"].pause();\n        setDidRickRollCome(true);\n    }\n};\n')),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"handleTimeUpdate")," function retrieves the current timestamp from\n",(0,i.kt)("inlineCode",{parentName:"p"},"videoRef.current?.currentTime")," with a default value of 0. It updates the\ntimestamp state with ",(0,i.kt)("inlineCode",{parentName:"p"},"setTimestamp(currentTime)"),"."),(0,i.kt)("p",null,"If the current timestamp is at least the target timestamp and the Rickroll\nhasn't occurred (",(0,i.kt)("inlineCode",{parentName:"p"},"!didRickRollCome"),"), it pauses the video\n(",(0,i.kt)("inlineCode",{parentName:"p"},"videoRef.current.pause()"),") and sets ",(0,i.kt)("inlineCode",{parentName:"p"},"didRickRollCome")," to true\n(",(0,i.kt)("inlineCode",{parentName:"p"},"setDidRickRollCome(true)"),")."),(0,i.kt)("h2",{id:"extra-step-if-you-are-using-react-with-js"},"Extra Step (If you are using React with JS)"),(0,i.kt)("p",null,"In Step 2, you will need to change this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"const videoRef = createRef<HTMLVideoElement>();\n")),(0,i.kt)("p",null,"to"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"const videoRef = createRef();\n")),(0,i.kt)("p",null,"When using React with JavaScript, you should omit the type argument\n(",(0,i.kt)("inlineCode",{parentName:"p"},"<HTMLVideoElement>"),") when creating the ref. The createRef() function can be\nused without specifying the element type."),(0,i.kt)("h1",{id:"results"},"Results"),(0,i.kt)("p",null,"Github (containing both react and react-ts):\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Sivayogeith/stop-at-sec"},"Stop At Sec")),(0,i.kt)("p",null,"Demo (I have hosted only react as it is the same as react-ts):\n",(0,i.kt)("a",{parentName:"p",href:"https://sivayogeith.github.io/stop-at-sec/"},"GH Pages")),(0,i.kt)("h1",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"React's JSX syntax is similar to HTML, but when working with React, it's\nrecommended to use refs instead of directly manipulating the DOM with\n",(0,i.kt)("inlineCode",{parentName:"p"},"document.")," functions."),(0,i.kt)("p",null,"In this tutorial, we covered how to add a video to a React component using the\n",(0,i.kt)("inlineCode",{parentName:"p"},"<video>")," tag, how to use refs to reference the video element, and how to access\nand control the video using the ref."),(0,i.kt)("p",null,"I hope this tutorial has been helpful in your React journey! Happy coding!"))}d.isMDXComponent=!0}}]);