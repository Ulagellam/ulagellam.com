"use strict";(self.webpackChunkulagellam_docusaurus=self.webpackChunkulagellam_docusaurus||[]).push([[959],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||o;return n?i.createElement(h,r(r({ref:t},d),{},{components:n})):i.createElement(h,r({ref:t},d))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var p=2;p<o;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6270:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const o={slug:"pausing-video-specific-second-guide",title:"How to Pause a Video at a Specific Second",authors:"sivayogeith",tags:["react","video","vite"],image:"./blog-images/my-present.png",description:"In this tutorial, we covered how to add a video to a React component using the <video> tag, how to use refs to reference the video element, and how to access and control the video using the ref.",enableComments:!0},r=void 0,s={permalink:"/blog/pausing-video-specific-second-guide",editUrl:"https://github.com/Ulagellam/ulagellam.com/tree/main/blog/2023-06-04-pausing-video-specific-second-guide.md",source:"@site/blog/2023-06-04-pausing-video-specific-second-guide.md",title:"How to Pause a Video at a Specific Second",description:"In this tutorial, we covered how to add a video to a React component using the <video> tag, how to use refs to reference the video element, and how to access and control the video using the ref.",date:"2023-06-04T00:00:00.000Z",formattedDate:"June 4, 2023",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"video",permalink:"/blog/tags/video"},{label:"vite",permalink:"/blog/tags/vite"}],readingTime:4.3,hasTruncateMarker:!1,authors:[{name:"Sivayogeith Umamaheswaran",title:"CTO, Ulagellam",url:"https://github.com/sivayogeith",imageURL:"/img/sivayogeith.jpg",key:"sivayogeith"}],frontMatter:{slug:"pausing-video-specific-second-guide",title:"How to Pause a Video at a Specific Second",authors:"sivayogeith",tags:["react","video","vite"],image:"./blog-images/my-present.png",description:"In this tutorial, we covered how to add a video to a React component using the <video> tag, how to use refs to reference the video element, and how to access and control the video using the ref.",enableComments:!0},nextItem:{title:"How I learned MEAN in a week!",permalink:"/blog/how-i-learned-MEAN-in-a-week"}},l={image:n(5236).Z,authorsImageUrls:[void 0]},p=[{value:"Introduction",id:"introduction",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Step 1: Add a video to <code>App.tsx</code>.",id:"step-1-add-a-video-to-apptsx",level:2},{value:"Step 2: Adding Refs",id:"step-2-adding-refs",level:2},{value:"Step 3. Adding <code>onTimeUpdate</code>",id:"step-3-adding-ontimeupdate",level:2},{value:"Extra Step (If you are using React with JS)",id:"extra-step-if-you-are-using-react-with-js",level:2}],d={toc:p};function c(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,i.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"My present to my sister",src:n(5236).Z,width:"1070",height:"754"})),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"I recently learned React, one of the most popular JavaScript frameworks in the\nworld. I also created a gift for my sister using React. The main feature of the\npresent is a video that contains a rickroll. When the rickroll plays, it should\nenable a previously disabled button."),(0,a.kt)("h2",{id:"getting-started"},"Getting Started"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Note: This tutorial assumes you have a react-ts or react app with vite included.\nSo, if you don't have the project up and running, please visit\n",(0,a.kt)("a",{parentName:"p",href:"https://vitejs.dev/guide/#scaffolding-your-first-vite-project"},"the Vite docs"),".")),(0,a.kt)("h2",{id:"step-1-add-a-video-to-apptsx"},"Step 1: Add a video to ",(0,a.kt)("inlineCode",{parentName:"h2"},"App.tsx"),"."),(0,a.kt)("p",null,"You can include a video using the HTML ",(0,a.kt)("inlineCode",{parentName:"p"},"<video>")," tag."),(0,a.kt)("p",null,"Here's an example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="/src/App.tsx" showLineNumbers',title:'"/src/App.tsx"',showLineNumbers:!0},'import rickRoll from "./rickroll.mp4";\nimport "./App.css";\n\nfunction App() {\n    return (\n        <>\n            <div>\n                <video src={rickRoll} width="750" height="500" controls></video>\n            </div>\n        </>\n    );\n}\n\nexport default App;\n')),(0,a.kt)("p",null,"In this code, make sure to place the video file (rickroll.mp4) in the public\nfolder."),(0,a.kt)("h2",{id:"step-2-adding-refs"},"Step 2: Adding Refs"),(0,a.kt)("p",null,"If you're new to React and aren't familiar with what a ref is, think of it as a\nway to reference an element similar to ",(0,a.kt)("inlineCode",{parentName:"p"},"document.querySelector")," in vanilla\nJavaScript."),(0,a.kt)("p",null,"In React, using refs is considered a best practice instead of directly using\n",(0,a.kt)("inlineCode",{parentName:"p"},"document.")," functions."),(0,a.kt)("p",null,"Let's add refs to our video tag:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="/src/App.tsx" showLineNumbers',title:'"/src/App.tsx"',showLineNumbers:!0},'import { createRef } from "react";\nimport rickRoll from "./rickroll.mp4";\nimport "./App.css";\n\nfunction App() {\n    const videoRef = createRef<HTMLVideoElement>();\n\n    return (\n        <>\n            <div>\n                <video\n                    src={rickRoll}\n                    width="750"\n                    height="500"\n                    ref={videoRef}\n                    controls\n                ></video>\n            </div>\n        </>\n    );\n}\n\nexport default App;\n')),(0,a.kt)("p",null,"In the updated code, we import the createRef function from React. We create a\nref using ",(0,a.kt)("inlineCode",{parentName:"p"},"createRef<HTMLVideoElement>()")," and assign it to ",(0,a.kt)("inlineCode",{parentName:"p"},"videoRef"),"."),(0,a.kt)("p",null,"We then use ",(0,a.kt)("inlineCode",{parentName:"p"},"ref={videoRef}")," to attach the ref to the video element. With refs,\nyou can access the underlying DOM element using ",(0,a.kt)("inlineCode",{parentName:"p"},"videoRef.current"),"."),(0,a.kt)("p",null,"To play or pause the video, you can use the following code:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Play: ",(0,a.kt)("inlineCode",{parentName:"li"},"videoRef.current?.play()")),(0,a.kt)("li",{parentName:"ul"},"Pause: ",(0,a.kt)("inlineCode",{parentName:"li"},"videoRef.current?.pause()"))),(0,a.kt)("p",null,"The ? is used to safely access the play() and pause() methods, as the current\nmight be null initially."),(0,a.kt)("h2",{id:"step-3-adding-ontimeupdate"},"Step 3. Adding ",(0,a.kt)("inlineCode",{parentName:"h2"},"onTimeUpdate")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"<video>")," tag in HTML has an attribute called ",(0,a.kt)("inlineCode",{parentName:"p"},"onTimeUpdate")," which allows us\nto set a function that will be called whenever the timestamp in the video\nchanges."),(0,a.kt)("p",null,"In this step, we will create a function called ",(0,a.kt)("inlineCode",{parentName:"p"},"handleTimeUpdate")," to handle this\nevent and perform certain actions when the target timestamp is reached."),(0,a.kt)("p",null,"To retrieve the current timestamp, we can use the following code snippet:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"const currentTime = videoRef.current?.currentTime || 0;\n")),(0,a.kt)("p",null,"Here is an example ",(0,a.kt)("inlineCode",{parentName:"p"},"handleTimeUpdate")," function that we can use:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'const handleTimeUpdate = () => {\n    const currentTime = videoRef.current?.currentTime || 0;\n    setTimestamp(currentTime);\n    if (currentTime >= targetTimestamp && !didRickRollCome) {\n        videoRef["current"].pause();\n        setDidRickRollCome(true);\n    }\n};\n')),(0,a.kt)("p",null,"And in the HTML you need to add the ",(0,a.kt)("inlineCode",{parentName:"p"},"onTimeUpdate")," attribute:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'<video\n    src={rickRoll}\n    width="750"\n    height="500"\n    ref={videoRef}\n    onTimeUpdate={handleTimeUpdate}\n    controls\n></video>\n')),(0,a.kt)("p",null,"By stitching all that code, we get the final result,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="/src/App.tsx" showLineNumbers',title:'"/src/App.tsx"',showLineNumbers:!0},'import { useState, createRef } from "react";\nimport rickRoll from "/rickroll.mp4";\nimport "./App.css";\n\nfunction App() {\n    const targetTimestamp = 6;\n    const [timestamp, setTimestamp] = useState(0);\n    const [didRickRollCome, setDidRickRollCome] = useState(false);\n\n    const videoRef = createRef<HTMLVideoElement>();\n    const handleTimeUpdate = () => {\n        const currentTime = videoRef.current?.currentTime || 0;\n        setTimestamp(currentTime);\n        if (currentTime >= targetTimestamp && !didRickRollCome) {\n            onTimestamp();\n        }\n    };\n\n    const onTimestamp = () => {\n        // When the timestamp is at 6 seconds do this:\n        videoRef.current?.pause();\n        setDidRickRollCome(true);\n    };\n    return (\n        <>\n            <div>\n                <p>The Video is at {timestamp} seconds</p>\n                {didRickRollCome ? (\n                    <p>Passed {targetTimestamp} seconds!</p>\n                ) : null}\n                <video\n                    src={rickRoll}\n                    width="750"\n                    height="500"\n                    ref={videoRef}\n                    onTimeUpdate={handleTimeUpdate}\n                    controls\n                ></video>\n            </div>\n        </>\n    );\n}\n\nexport default App;\n')),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"I have added this code so it will show the current timestamp and if it touched\nthe ",(0,a.kt)("inlineCode",{parentName:"p"},"targetTimestamp")," var in the UI:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre"},"<p>The Video is at {timestamp} seconds</p>;\n{\n    didRickRollCome ? <p>Passed {targetTimestamp} seconds!</p> : null;\n}\n"))),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"handleTimeUpdate")," function retrieves the current timestamp from\n",(0,a.kt)("inlineCode",{parentName:"p"},"videoRef.current?.currentTime")," with a default value of 0. It updates the\ntimestamp state with ",(0,a.kt)("inlineCode",{parentName:"p"},"setTimestamp(currentTime)"),"."),(0,a.kt)("p",null,"If the current timestamp is at least the target timestamp and the Rickroll\nhasn't occurred, it pauses the video with and sets ",(0,a.kt)("inlineCode",{parentName:"p"},"didRickRollCome")," to true"),(0,a.kt)("h2",{id:"extra-step-if-you-are-using-react-with-js"},"Extra Step (If you are using React with JS)"),(0,a.kt)("p",null,"In Step 2, you will need to change this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"// Line No. 6\nconst videoRef = createRef<HTMLVideoElement>();\n")),(0,a.kt)("p",null,"to"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"const videoRef = createRef();\n")),(0,a.kt)("p",null,"We are doing that as, Javascript does not support types."),(0,a.kt)("p",null,"Also, the file extension should be ",(0,a.kt)("inlineCode",{parentName:"p"},".jsx")," instead of ",(0,a.kt)("inlineCode",{parentName:"p"},".tsx")),(0,a.kt)("h1",{id:"results"},"Results"),(0,a.kt)("p",null,"Github (containing both react and react-ts):\n",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Sivayogeith/stop-at-sec"},"Stop At Sec")),(0,a.kt)("p",null,"Demo (I have hosted only react as it is the same as react-ts):\n",(0,a.kt)("a",{parentName:"p",href:"https://sivayogeith.github.io/stop-at-sec/"},"GH Pages")),(0,a.kt)("h1",{id:"conclusion"},"Conclusion"),(0,a.kt)("p",null,"React's JSX syntax is similar to HTML, but when working with React, it's\nrecommended to use refs instead of directly manipulating the DOM with\n",(0,a.kt)("inlineCode",{parentName:"p"},"document.")," functions."),(0,a.kt)("p",null,"In this tutorial, we covered how to add a video to a React component using the\n",(0,a.kt)("inlineCode",{parentName:"p"},"<video>")," tag, how to use refs to reference the video element, and how to access\nand control the video using the ref."),(0,a.kt)("p",null,"I hope this tutorial has been helpful in your React journey!"),(0,a.kt)("p",null,"And If you want to see the present I gave to my sister, give me an DM on Discord\n(",(0,a.kt)("a",{parentName:"p",href:"https://discord.com/users/1061949717833068607"},"thecodingsage#8758"),")"),(0,a.kt)("p",null,"Happy coding!"))}c.isMDXComponent=!0},5236:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/my-present-ca2ef3161afbd85e96dfcea8a74ac5f3.png"}}]);